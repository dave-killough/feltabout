<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>feltabout</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <style>
      .table { display: table }    
      .row { display: table-row } 
      .cell { display: table-cell } 
      #signin { display: none; background-color: lightgrey; }
      #signup { display: none; background-color: lightgrey; }
      #expressions { display: none; }
      #expression { display: none; }
      #connections { display: none; }
      #connection { display: none; }
      #logo {
          display: block;
          margin-left: auto;
          margin-right: auto;
      }
      #logo2 { background-color: lightgrey; height: 40px;}
      #intro { background-color: lightgrey; height: 120px;}
    </style>
<!--
    <link rel="icon" href="images/favicon.png" />
-->    
</head>
<body>
    <div id="signin" class="page">
      <img id="logo" src='/feltabout.svg' />
      <form name="signin_form" class="table">
     
        <p class="row">
          <label for="user" class="cell">User</label>
          <input id="user" type="text" class="cell">
        </p>
        <p class="row">
          <label for="password" class="cell">Password</label>
          <input id="password" type="password" class="cell">
        </p> 
        <div>
            <label class="cell"></label>
            <div class="cell">
                <button id="signin-submit-button" type="button">Sign In</button>      
                <button id="signup-access-button" type="button">Sign Up</button>  
            </div>
          </div>
      </form>
      <div id="intro"></div>
    </div>
    <div id="signup" class="page">
      <form name="signup_form">
        <p>
          <label for="new_user">New User:</label>
          <input id="new_user" type="text">
        </p>
        <p>
          <label for="new_password">Password:</label>
          <input id="new_password" type="password">
        </p>    
        <p>
          <label for="verify">Verify Password:</label>
          <input id="verify" type="password">
        </p>  
      </form>
    </div>
    <div id="expressions">
      <form name="signup_form">
        <p id="with">
          <label for="with">With: </label>
          <input id="user" type="text">
        </p>
        <p id="ifelt">
          <label for="password">Password:</label>
          <input id="password" type="password">
        </p>          
      </form>
    </div>
    <div id="expression">
      <form name="signup_form">
        <p id="with">
          <label for="with">With: </label>
          <input id="user" type="text">
        </p>
        <p id="ifelt">
          <label for="password">Password:</label>
          <input id="password" type="password">
        </p>          
      </form>
    </div>     
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script type="text/javascript">
$(function() {
  // ajax is
  //signed_in = true; 
  //$('#signin').css('display','block'); 
  hashchange_counter = 0;
  $(window).on('hashchange', function(){
    render(decodeURI(window.location.hash));
  });
  $(window).trigger('hashchange');
	function render(url) {
    var base = url.split('/')[0];
    // make sure user is loggged in - security
    if (base == '') renderSigninPage(url);
    else if (base == '#signup') renderSignupPage(url);
    //else if (base == '#expressions') renderExpressionsPage(url);
    //else if (base == '#expression') renderExpressionPage(url);
    //else if (base == '#connections') renderConnectionsPage(url);
    //else if (base == '#connection') renderConnectionPage(url);
    else renderErrorPage(url);
  }
  function renderSigninPage(url) {
    $('.page').css('display','none')
    var page = $('#signin');
    var that = $(this);
    page.css('display','block')
  }
  function renderSignupPage(url) {
    $('.page').css('display','none')
    var page = $('#signup');
    var that = $(this);
    page.css('display','block')
  }  
  function r2(url) {
    //$('.main-content .page').removeClass('visible');  // Hide whatever page is currently shown.
    var map = {
      '': function() { // The "Homepage".
        // Clear the filters object, uncheck all checkboxes, show all the products
        //filters = {};
        //checkboxes.prop('checked',false);
        renderSigninPage();
      },
      '#product': function() { // Single Products page.
        // Get the index of which product we want to show and call the appropriate function.
        var index = url.split('#product/')[1].trim();
        renderSingleProductPage(index, products);
      },
      '#filter': function() {  // Page with filtered products
        // Grab the string after the '#filter/' keyword. Call the filtering function.
        url = url.split('#filter/')[1].trim();
        // Try and parse the filters object from the query string.
        try {
          filters = JSON.parse(url);
        }
        // If it isn't a valid json, go back to homepage ( the rest of the code won't be executed ).
        catch(err) {
          window.location.hash = '#';
          return;
        }
        //renderFilterResults(filters, products);
      }
    };
    // Execute the needed function depending on the url keyword (stored in temp).
    if(map[temp]){
      map[temp]();
    }
    // If the keyword isn't listed in the above - render the error page.
    else {
      alert('error'); // renderErrorPage();
    }
  }
});

    </script>    
</body>
</html>

